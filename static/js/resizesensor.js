"use strict";(function(b,a){if(typeof define==="function"&&define.amd){define(a)}else{if(typeof exports==="object"){module.exports=a()}else{b.ResizeSensor=a()}}}(typeof window!=="undefined"?window:this,function(){if(typeof window==="undefined"){return null}var c=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function a(f,e){var g=Object.prototype.toString.call(f);var k=("[object Array]"===g||("[object NodeList]"===g)||("[object HTMLCollection]"===g)||("[object Object]"===g)||("undefined"!==typeof jQuery&&f instanceof jQuery)||("undefined"!==typeof Elements&&f instanceof Elements));var h=0,l=f.length;if(k){for(;h<l;h++){e(f[h])}}else{e(f)}}function b(e){if(!e.getBoundingClientRect){return{width:e.offsetWidth,height:e.offsetHeight}}var f=e.getBoundingClientRect();return{width:Math.round(f.width),height:Math.round(f.height)}}var d=function(g,f){function h(){var m=[];this.add=function(i){m.push(i)};var k,l;this.call=function(i){for(k=0,l=m.length;k<l;k++){m[k].call(this,i)}};this.remove=function(i){var j=[];for(k=0,l=m.length;k<l;k++){if(m[k]!==i){j.push(m[k])}}m=j};this.length=function(){return m.length}}function e(l,y){if(!l){return}if(l.resizedAttached){l.resizedAttached.add(y);return}l.resizedAttached=new h();l.resizedAttached.add(y);l.resizeSensor=document.createElement("div");l.resizeSensor.dir="ltr";l.resizeSensor.className="resize-sensor";var B="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; max-width: 100%";var C="position: absolute; left: 0; top: 0; transition: 0s;";l.resizeSensor.style.cssText=B;l.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+B+'"><div style="'+C+'"></div></div><div class="resize-sensor-shrink" style="'+B+'"><div style="'+C+' width: 200%; height: 200%"></div></div>';l.appendChild(l.resizeSensor);var j=window.getComputedStyle(l);var u=j?j.getPropertyValue("position"):null;if("absolute"!==u&&"relative"!==u&&"fixed"!==u){l.style.position="relative"}var m=l.resizeSensor.childNodes[0];var n=m.childNodes[0];var z=l.resizeSensor.childNodes[1];var k,v;var A=b(l);var r=A.width;var q=A.height;var o=true;var p=0;var x=function(){n.style.width="100000px";n.style.height="100000px";m.scrollLeft=100000;m.scrollTop=100000;z.scrollLeft=100000;z.scrollTop=100000};var w=function(){if(o){var D=l.offsetWidth===0&&l.offsetHeight===0;if(D){if(!p){p=c(function(){p=0;w()})}return}else{o=false}}x()};l.resizeSensor.resetSensor=w;var s=function(){v=0;if(!k){return}r=A.width;q=A.height;if(l.resizedAttached){l.resizedAttached.call(A)}};var t=function(){A=b(l);k=A.width!==r||A.height!==q;if(k&&!v){v=c(s)}w()};var i=function(E,F,D){if(E.attachEvent){E.attachEvent("on"+F,D)}else{E.addEventListener(F,D)}};i(m,"scroll",t);i(z,"scroll",t);c(w)}a(g,function(i){e(i,f)});this.detach=function(i){d.detach(g,i)};this.reset=function(){g.resizeSensor.resetSensor()}};d.reset=function(e,f){a(e,function(g){g.resizeSensor.resetSensor()})};d.detach=function(e,f){a(e,function(g){if(!g){return}if(g.resizedAttached&&typeof f==="function"){g.resizedAttached.remove(f);if(g.resizedAttached.length()){return}}if(g.resizeSensor){if(g.contains(g.resizeSensor)){g.removeChild(g.resizeSensor)}delete g.resizeSensor;delete g.resizedAttached}})};return d}));